На этом этапе мы научим наш сервис проводить A/B эксперимент, то есть разбивать пользователей на группы и для каждой из групп использовать одну из двух реализованных моделей.(одна из класического ML другая с использованием DL)
Одна модель будет тестовой(предположим это будет модель с DL, модель с класическим Ml будет контрольной)
Для работы сервиса реализовали функцию, которая по user_id пользователя будет определять, в какую группу попал пользователь.
Для этого использовали одну из хэш-функций ( md5 из библиотеки hashlib), использовали соль. Сами параметры разбиения (конкретное значение соли, проценты для разбиения 50 на 50).
Вынесли в две отдельные функции построение рекомендаций двумя моделями (из ML и из DL), чтобы можно было удобно вызывать их. Модели, которые вы загружаете, будут называться соответственно model_control, model_test.
Изменили функцию get_model_path(), чтобы она работала не с одной моделью с названием model, а могла работать с тестовой и контрольной моделью с именами model_test, model_control.
Все это сделано для того что бы оцениить значимость изменений(статистически значима ли проделанная работа)
